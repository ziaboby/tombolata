{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"preact\"","webpack:///../src/index.js","webpack:///./lib/generateCards.js","webpack:///./reducers/cards.js","webpack:///./constants/actions.js","webpack:///./components/controllers.js","webpack:///./components/tomboloneNumbersGenerator.js","webpack:///./components/view.js","webpack:///./components/card.js","webpack:///./components/TomboloneCard.js","webpack:///./components/app.js","webpack:///./index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","currentIndex","currentComponent","prevRaf","currentHook","afterPaintEffects","oldBeforeDiff","options","oldBeforeRender","oldAfterDiff","diffed","oldCommit","oldBeforeUnmount","unmount","getHookState","index","type","hooks","length","push","useReducer","reducer","initialState","init","hookState","_reducer","invokeOrReturn","nextValue","action","setState","useMemo","factory","args","state","argsChanged","flushAfterPaintEffects","forEach","component","invokeCleanup","invokeEffect","e","vnode","requestAnimationFrame","callback","raf","done","clearTimeout","timeout","HAS_RAF","cancelAnimationFrame","setTimeout","commitQueue","some","filter","cb","hook","comp","oldArgs","newArgs","arg","f","EMPTY_SPACES","Array","fill","NUMBERS","keys","SOURCES","slice","getRandom","min","max","Math","ceil","floor","random","SINGLE","groups","reduce","previous","current","list","item","singles","doubles","extracted","extracted1","extracted2","getRandomItemAndDeletedIt","curr","col","x","cards","singlesList","singlesWithMajorLength","doublesList","single1","single2","single3","prev","includes","finalCards","row","currentCardCols","doublesKeys","singlesKeys","pop","random1","random2","random3","random4","random5","map","sessionStorage","getItem","setItem","history","pushState","window","storedInitialState","defaultInitialState","selectedNumbers","tomboloneFreeNumbers","tomboloneNewNumber","JSON","parse","MODE","Reducer","generateCards","res","allNumbers","initialIndex","getTomboloneCards","splice","number","Error","newState","removeItem","stringify","dispatch","className","onClick","quantity","id","NumberBox","isSelected","View","numbers","num","final","index2","parseInt","App","isTombolone","onpopstate","card","TomboloneCard","style","textAlign","paddingRight","marginTop","settings","version"],"mappings":"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","file":"ssr-bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"QfWi\");\n","module.exports = require(\"preact\");","import { options } from 'preact';\n\n/** @type {number} */\nlet currentIndex;\n\n/** @type {import('./internal').Component} */\nlet currentComponent;\n/**\n * Keep track of the previous component so that we can set\n * `currentComponent` to `null` and throw when a hook is invoked\n * outside of render\n * @type {import('./internal').Component}\n */\nlet previousComponent;\n\n/** @type {number} */\nlet currentHook = 0;\n\n/** @type {Array<import('./internal').Component>} */\nlet afterPaintEffects = [];\n\nlet oldBeforeDiff = options._diff;\nlet oldBeforeRender = options._render;\nlet oldAfterDiff = options.diffed;\nlet oldCommit = options._commit;\nlet oldBeforeUnmount = options.unmount;\n\nconst RAF_TIMEOUT = 100;\nlet prevRaf;\n\noptions._diff = vnode => {\n\tcurrentComponent = null;\n\tif (oldBeforeDiff) oldBeforeDiff(vnode);\n};\n\noptions._render = vnode => {\n\tif (oldBeforeRender) oldBeforeRender(vnode);\n\n\tcurrentComponent = vnode._component;\n\tcurrentIndex = 0;\n\n\tconst hooks = currentComponent.__hooks;\n\tif (hooks) {\n\t\thooks._pendingEffects.forEach(invokeCleanup);\n\t\thooks._pendingEffects.forEach(invokeEffect);\n\t\thooks._pendingEffects = [];\n\t}\n};\n\noptions.diffed = vnode => {\n\tif (oldAfterDiff) oldAfterDiff(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks && c.__hooks._pendingEffects.length) {\n\t\tafterPaint(afterPaintEffects.push(c));\n\t}\n\tcurrentComponent = previousComponent;\n};\n\noptions._commit = (vnode, commitQueue) => {\n\tcommitQueue.some(component => {\n\t\ttry {\n\t\t\tcomponent._renderCallbacks.forEach(invokeCleanup);\n\t\t\tcomponent._renderCallbacks = component._renderCallbacks.filter(cb =>\n\t\t\t\tcb._value ? invokeEffect(cb) : true\n\t\t\t);\n\t\t} catch (e) {\n\t\t\tcommitQueue.some(c => {\n\t\t\t\tif (c._renderCallbacks) c._renderCallbacks = [];\n\t\t\t});\n\t\t\tcommitQueue = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t});\n\n\tif (oldCommit) oldCommit(vnode, commitQueue);\n};\n\noptions.unmount = vnode => {\n\tif (oldBeforeUnmount) oldBeforeUnmount(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\ttry {\n\t\t\tc.__hooks._list.forEach(invokeCleanup);\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t}\n};\n\n/**\n * Get a hook's state from the currentComponent\n * @param {number} index The index of the hook to get\n * @param {number} type The index of the hook to get\n * @returns {import('./internal').HookState}\n */\nfunction getHookState(index, type) {\n\tif (options._hook) {\n\t\toptions._hook(currentComponent, index, currentHook || type);\n\t}\n\tcurrentHook = 0;\n\n\t// Largely inspired by:\n\t// * https://github.com/michael-klein/funcy.js/blob/f6be73468e6ec46b0ff5aa3cc4c9baf72a29025a/src/hooks/core_hooks.mjs\n\t// * https://github.com/michael-klein/funcy.js/blob/650beaa58c43c33a74820a3c98b3c7079cf2e333/src/renderer.mjs\n\t// Other implementations to look at:\n\t// * https://codesandbox.io/s/mnox05qp8\n\tconst hooks =\n\t\tcurrentComponent.__hooks ||\n\t\t(currentComponent.__hooks = {\n\t\t\t_list: [],\n\t\t\t_pendingEffects: []\n\t\t});\n\n\tif (index >= hooks._list.length) {\n\t\thooks._list.push({});\n\t}\n\treturn hooks._list[index];\n}\n\n/**\n * @param {import('./index').StateUpdater<any>} initialState\n */\nexport function useState(initialState) {\n\tcurrentHook = 1;\n\treturn useReducer(invokeOrReturn, initialState);\n}\n\n/**\n * @param {import('./index').Reducer<any, any>} reducer\n * @param {import('./index').StateUpdater<any>} initialState\n * @param {(initialState: any) => void} [init]\n * @returns {[ any, (state: any) => void ]}\n */\nexport function useReducer(reducer, initialState, init) {\n\t/** @type {import('./internal').ReducerHookState} */\n\tconst hookState = getHookState(currentIndex++, 2);\n\thookState._reducer = reducer;\n\tif (!hookState._component) {\n\t\thookState._value = [\n\t\t\t!init ? invokeOrReturn(undefined, initialState) : init(initialState),\n\n\t\t\taction => {\n\t\t\t\tconst nextValue = hookState._reducer(hookState._value[0], action);\n\t\t\t\tif (hookState._value[0] !== nextValue) {\n\t\t\t\t\thookState._value = [nextValue, hookState._value[1]];\n\t\t\t\t\thookState._component.setState({});\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\n\t\thookState._component = currentComponent;\n\t}\n\n\treturn hookState._value;\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 3);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._args = args;\n\n\t\tcurrentComponent.__hooks._pendingEffects.push(state);\n\t}\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useLayoutEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 4);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._args = args;\n\n\t\tcurrentComponent._renderCallbacks.push(state);\n\t}\n}\n\nexport function useRef(initialValue) {\n\tcurrentHook = 5;\n\treturn useMemo(() => ({ current: initialValue }), []);\n}\n\n/**\n * @param {object} ref\n * @param {() => object} createHandle\n * @param {any[]} args\n */\nexport function useImperativeHandle(ref, createHandle, args) {\n\tcurrentHook = 6;\n\tuseLayoutEffect(\n\t\t() => {\n\t\t\tif (typeof ref == 'function') ref(createHandle());\n\t\t\telse if (ref) ref.current = createHandle();\n\t\t},\n\t\targs == null ? args : args.concat(ref)\n\t);\n}\n\n/**\n * @param {() => any} factory\n * @param {any[]} args\n */\nexport function useMemo(factory, args) {\n\t/** @type {import('./internal').MemoHookState} */\n\tconst state = getHookState(currentIndex++, 7);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._value = factory();\n\t\tstate._args = args;\n\t\tstate._factory = factory;\n\t}\n\n\treturn state._value;\n}\n\n/**\n * @param {() => void} callback\n * @param {any[]} args\n */\nexport function useCallback(callback, args) {\n\tcurrentHook = 8;\n\treturn useMemo(() => callback, args);\n}\n\n/**\n * @param {import('./internal').PreactContext} context\n */\nexport function useContext(context) {\n\tconst provider = currentComponent.context[context._id];\n\t// We could skip this call here, but than we'd not call\n\t// `options._hook`. We need to do that in order to make\n\t// the devtools aware of this hook.\n\tconst state = getHookState(currentIndex++, 9);\n\t// The devtools needs access to the context object to\n\t// be able to pull of the default value when no provider\n\t// is present in the tree.\n\tstate._context = context;\n\tif (!provider) return context._defaultValue;\n\t// This is probably not safe to convert to \"!\"\n\tif (state._value == null) {\n\t\tstate._value = true;\n\t\tprovider.sub(currentComponent);\n\t}\n\treturn provider.props.value;\n}\n\n/**\n * Display a custom label for a custom hook for the devtools panel\n * @type {<T>(value: T, cb?: (value: T) => string | number) => void}\n */\nexport function useDebugValue(value, formatter) {\n\tif (options.useDebugValue) {\n\t\toptions.useDebugValue(formatter ? formatter(value) : value);\n\t}\n}\n\nexport function useErrorBoundary(cb) {\n\tconst state = getHookState(currentIndex++, 10);\n\tconst errState = useState();\n\tstate._value = cb;\n\tif (!currentComponent.componentDidCatch) {\n\t\tcurrentComponent.componentDidCatch = err => {\n\t\t\tif (state._value) state._value(err);\n\t\t\terrState[1](err);\n\t\t};\n\t}\n\treturn [\n\t\terrState[0],\n\t\t() => {\n\t\t\terrState[1](undefined);\n\t\t}\n\t];\n}\n\n/**\n * After paint effects consumer.\n */\nfunction flushAfterPaintEffects() {\n\tafterPaintEffects.forEach(component => {\n\t\tif (component._parentDom) {\n\t\t\ttry {\n\t\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeCleanup);\n\t\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeEffect);\n\t\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\t} catch (e) {\n\t\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\t\toptions._catchError(e, component._vnode);\n\t\t\t}\n\t\t}\n\t});\n\tafterPaintEffects = [];\n}\n\nlet HAS_RAF = typeof requestAnimationFrame == 'function';\n\n/**\n * Schedule a callback to be invoked after the browser has a chance to paint a new frame.\n * Do this by combining requestAnimationFrame (rAF) + setTimeout to invoke a callback after\n * the next browser frame.\n *\n * Also, schedule a timeout in parallel to the the rAF to ensure the callback is invoked\n * even if RAF doesn't fire (for example if the browser tab is not visible)\n *\n * @param {() => void} callback\n */\nfunction afterNextFrame(callback) {\n\tconst done = () => {\n\t\tclearTimeout(timeout);\n\t\tif (HAS_RAF) cancelAnimationFrame(raf);\n\t\tsetTimeout(callback);\n\t};\n\tconst timeout = setTimeout(done, RAF_TIMEOUT);\n\n\tlet raf;\n\tif (HAS_RAF) {\n\t\traf = requestAnimationFrame(done);\n\t}\n}\n\n// Note: if someone used options.debounceRendering = requestAnimationFrame,\n// then effects will ALWAYS run on the NEXT frame instead of the current one, incurring a ~16ms delay.\n// Perhaps this is not such a big deal.\n/**\n * Schedule afterPaintEffects flush after the browser paints\n * @param {number} newQueueLength\n */\nfunction afterPaint(newQueueLength) {\n\tif (newQueueLength === 1 || prevRaf !== options.requestAnimationFrame) {\n\t\tprevRaf = options.requestAnimationFrame;\n\t\t(prevRaf || afterNextFrame)(flushAfterPaintEffects);\n\t}\n}\n\n/**\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeCleanup(hook) {\n\t// A hook cleanup can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\tif (typeof hook._cleanup == 'function') hook._cleanup();\n\tcurrentComponent = comp;\n}\n\n/**\n * Invoke a Hook's effect\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeEffect(hook) {\n\t// A hook call can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\thook._cleanup = hook._value();\n\tcurrentComponent = comp;\n}\n\n/**\n * @param {any[]} oldArgs\n * @param {any[]} newArgs\n */\nfunction argsChanged(oldArgs, newArgs) {\n\treturn (\n\t\t!oldArgs ||\n\t\toldArgs.length !== newArgs.length ||\n\t\tnewArgs.some((arg, index) => arg !== oldArgs[index])\n\t);\n}\n\nfunction invokeOrReturn(arg, f) {\n\treturn typeof f == 'function' ? f(arg) : f;\n}\n","const MAX_CARDS_WITHOUT_DOUBLES = 6,\r\n    MAX_EMPTY_SPACES_09 = 9,\r\n    MAX_EMPTY_SPACES = 8,\r\n    MAX_EMPTY_SPACES_90 = 7,\r\n    EMPTY_SPACES = new Array(91).fill(''),\r\n    NUMBERS = Object.keys(EMPTY_SPACES),\r\n    SOURCES = {\r\n        '1': [...NUMBERS.slice(1, 10), ...EMPTY_SPACES.slice(0, MAX_EMPTY_SPACES_09)],\r\n        '10': [...NUMBERS.slice(10, 20), ...EMPTY_SPACES.slice(0, MAX_EMPTY_SPACES)],\r\n        '20': [...NUMBERS.slice(20, 30), ...EMPTY_SPACES.slice(0, MAX_EMPTY_SPACES)],\r\n        '30': [...NUMBERS.slice(30, 40), ...EMPTY_SPACES.slice(0, MAX_EMPTY_SPACES)],\r\n        '40': [...NUMBERS.slice(40, 50), ...EMPTY_SPACES.slice(0, MAX_EMPTY_SPACES)],\r\n        '50': [...NUMBERS.slice(50, 60), ...EMPTY_SPACES.slice(0, MAX_EMPTY_SPACES)],\r\n        '60': [...NUMBERS.slice(60, 70), ...EMPTY_SPACES.slice(0, MAX_EMPTY_SPACES)],\r\n        '70': [...NUMBERS.slice(70, 80), ...EMPTY_SPACES.slice(0, MAX_EMPTY_SPACES)],\r\n        '80': [...NUMBERS.slice(80, 91), ...EMPTY_SPACES.slice(0, MAX_EMPTY_SPACES_90)]\r\n    };\r\n\r\nexport const getTomboloneCards = () => {\r\n    const res = []\r\n    const allNumbers = NUMBERS.slice(1);\r\n    for (let i = 0; i < 3; i++) {\r\n        const initialIndex = i * 30\r\n        res[i] = allNumbers.slice(initialIndex, initialIndex + 30)\r\n    }\r\n    return res\r\n}\r\n\r\nexport const getRandom = (min, max) => {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min + 1) + min);\r\n}\r\n\r\nexport default function () {\r\n    // CREATE COLS OF SINGLES AND DOUBLES\r\n    const SINGLE = {\r\n        '1': 3,\r\n        '10': 2,\r\n        '20': 2,\r\n        '30': 2,\r\n        '40': 2,\r\n        '50': 2,\r\n        '60': 2,\r\n        '70': 2,\r\n        '80': 1\r\n    };\r\n    const groups = Object.keys(SINGLE).reduce((previous, current) => {\r\n        // TODO delete empty spaces\r\n        // let list = SOURCES[current].slice(0);\r\n        let list = SOURCES[current].filter(item => item !== '');\r\n        for (let i = 0; i < MAX_CARDS_WITHOUT_DOUBLES; i++) {\r\n            if (!previous[current]) {\r\n                previous[current] = { singles: [], doubles: [] };\r\n            }\r\n            if (i < SINGLE[current]) {\r\n                const extracted = list[getRandom(0, list.length - 1)];\r\n                list = list.filter(item => item != extracted);\r\n                previous[current].singles.push([extracted]);\r\n            } else {\r\n                // TODO fix case of same extracted number\r\n                const extracted1 = list[getRandom(0, list.length - 1)];\r\n                let extracted2 = list[getRandom(0, list.length - 1)];\r\n                while (extracted2 === extracted1) {\r\n                    extracted2 = list[getRandom(0, list.length - 1)];\r\n                }\r\n                list = list.filter(item => item != extracted1 && item != extracted2);\r\n                previous[current].doubles.push([extracted1, extracted2]);\r\n            }\r\n        }\r\n        return previous;\r\n    }, {});\r\n\r\n    // GROUP COLS BY CARD\r\n    const getRandomItemAndDeletedIt = (key, type) => {\r\n        const curr = groups[key][type];\r\n        const extracted = getRandom(0, curr.length - 1);\r\n        const col = curr[extracted];\r\n        groups[key][type] = groups[key][type].filter((x, i) => i !== extracted);\r\n        return col;\r\n    };\r\n    const cards = {};\r\n    for (let i = 1; i <= MAX_CARDS_WITHOUT_DOUBLES; i++) {\r\n        const singlesList = Object.keys(groups).filter(key => (groups[key].singles || []).length);\r\n        const singlesWithMajorLength = Object.keys(groups).filter(\r\n            key => (groups[key].singles || []).length >= 2\r\n        );\r\n        const doublesList = Object.keys(groups).filter(key => (groups[key].doubles || []).length);\r\n        let single1 = singlesWithMajorLength.length\r\n            ? singlesWithMajorLength[getRandom(0, singlesWithMajorLength.length - 1)]\r\n            : singlesList[getRandom(0, singlesList.length - 1)];\r\n        let single2 = singlesList[getRandom(0, singlesList.length - 1)];\r\n        while (single2 === single1) {\r\n            single2 = singlesList[getRandom(0, singlesList.length - 1)];\r\n        }\r\n        let single3 = singlesList[getRandom(0, singlesList.length - 1)];\r\n        while (single3 === single1 || single3 === single2) {\r\n            single3 = singlesList[getRandom(0, singlesList.length - 1)];\r\n        }\r\n        cards[i] = {\r\n            [single1]: getRandomItemAndDeletedIt(single1, 'singles'),\r\n            [single2]: getRandomItemAndDeletedIt(single2, 'singles'),\r\n            [single3]: getRandomItemAndDeletedIt(single3, 'singles'),\r\n            ...doublesList.reduce((prev, key) => {\r\n                if (![single1, single2, single3].includes(key)) {\r\n                    return {\r\n                        ...prev,\r\n                        [key]: getRandomItemAndDeletedIt(key, 'doubles')\r\n                    };\r\n                }\r\n                return prev;\r\n            }, {})\r\n        };\r\n    }\r\n\r\n    // FINAL CARDS\r\n    const finalCards = {};\r\n    for (let i = 1; i <= MAX_CARDS_WITHOUT_DOUBLES; i++) {\r\n        if (!finalCards[i]) {\r\n            finalCards[i] = [];\r\n        }\r\n        for (let row = 1; row <= 3; row++) {\r\n            const currentCardCols = cards[i];\r\n            const doublesKeys = Object.keys(currentCardCols).filter(\r\n                key => (currentCardCols[key] || []).length === 2\r\n            );\r\n            const singlesKeys = Object.keys(currentCardCols).filter(\r\n                key => (currentCardCols[key] || []).length === 1\r\n            );\r\n            if (row === 1) {\r\n                finalCards[i].push([\r\n                    cards[i][doublesKeys[0]].pop(),\r\n                    cards[i][doublesKeys[1]].pop(),\r\n                    cards[i][doublesKeys[2]].pop(),\r\n                    cards[i][doublesKeys[3]].pop(),\r\n                    cards[i][doublesKeys[4]].pop()\r\n                ]);\r\n            } else {\r\n                const random1 = doublesKeys.length\r\n                    ? doublesKeys[0]\r\n                    : singlesKeys[getRandom(0, singlesKeys.length - 1)];\r\n                let random2 = random1,\r\n                    random3 = random1,\r\n                    random4 = random1,\r\n                    random5 = random1;\r\n                while (random2 === random1) {\r\n                    random2 = singlesKeys[getRandom(0, singlesKeys.length - 1)];\r\n                }\r\n                while ([random1, random2].includes(random3)) {\r\n                    random3 = singlesKeys[getRandom(0, singlesKeys.length - 1)];\r\n                }\r\n                while ([random1, random2, random3].includes(random4)) {\r\n                    random4 = singlesKeys[getRandom(0, singlesKeys.length - 1)];\r\n                }\r\n                while ([random1, random2, random3, random4].includes(random5)) {\r\n                    random5 = singlesKeys[getRandom(0, singlesKeys.length - 1)];\r\n                }\r\n                finalCards[i].push([\r\n                    cards[i][random1].pop(),\r\n                    cards[i][random2].pop(),\r\n                    cards[i][random3].pop(),\r\n                    cards[i][random4].pop(),\r\n                    cards[i][random5].pop()\r\n                ]);\r\n            }\r\n        }\r\n    }\r\n\r\n    // return { groups, cards, finalCards };\r\n    return Object.keys(finalCards).map(index => finalCards[index])\r\n}\r\n","import {\r\n  NEW_CARD,\r\n  NEW_TOMBOLONE,\r\n  NEW_TOMBOLONE_NUMBER,\r\n  RESET,\r\n  RESTORE_STATE,\r\n  SELECT_NUMBER,\r\n} from \"../constants/actions\";\r\nimport generateCards, {\r\n  getTomboloneCards,\r\n  getRandom,\r\n} from \"../lib/generateCards\";\r\n\r\nconst sessionStorage = { getItem: () => {}, setItem: () => {} },\r\n  history = { pushState: () => {} };\r\n\r\nif (typeof window !== \"undefined\") {\r\n  sessionStorage = window.sessionStorage;\r\n  history = window.history;\r\n}\r\n\r\nconst LOCAL_STORAGE_KEY = \"tombolata\";\r\n\r\nconst storedInitialState = sessionStorage.getItem(LOCAL_STORAGE_KEY);\r\n\r\nconst defaultInitialState = {\r\n  cards: [],\r\n  selectedNumbers: [],\r\n  tomboloneFreeNumbers: [],\r\n  tomboloneNewNumber: null,\r\n  mode: \"\",\r\n};\r\n\r\nexport const initialState = !!storedInitialState\r\n  ? JSON.parse(storedInitialState)\r\n  : defaultInitialState;\r\n\r\nhistory.pushState(initialState, \"\", \"#\" + (initialState.mode || \"\"));\r\n\r\nexport const MODE = [\"cards\", \"tombolone\"];\r\n\r\nconst Reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case RESTORE_STATE: {\r\n      if (action.state) {\r\n        return {\r\n          ...action.state,\r\n        };\r\n      }\r\n      return state;\r\n    }\r\n    case RESET: {\r\n      return {\r\n        ...state,\r\n        selectedNumbers: [],\r\n        tomboloneFreeNumbers: state.tomboloneFreeNumbers.length\r\n          ? [...state.cards[0], ...state.cards[1], ...state.cards[2]]\r\n          : defaultInitialState.tomboloneFreeNumbers,\r\n      };\r\n    }\r\n    case NEW_CARD: {\r\n      return {\r\n        ...defaultInitialState,\r\n        mode: MODE[0],\r\n        cards: generateCards(),\r\n      };\r\n    }\r\n    case NEW_TOMBOLONE: {\r\n      const cards = getTomboloneCards();\r\n      return {\r\n        ...defaultInitialState,\r\n        mode: MODE[1],\r\n        cards,\r\n        tomboloneFreeNumbers: [...cards[0], ...cards[1], ...cards[2]],\r\n      };\r\n    }\r\n    case NEW_TOMBOLONE_NUMBER: {\r\n      if (!state.tomboloneFreeNumbers.length) {\r\n        return state;\r\n      }\r\n      const index = getRandom(0, state.tomboloneFreeNumbers.length - 1),\r\n        tomboloneFreeNumbers = state.tomboloneFreeNumbers.slice(0),\r\n        tomboloneNewNumber = tomboloneFreeNumbers.splice(index, 1)[0];\r\n      return {\r\n        ...state,\r\n        tomboloneNewNumber,\r\n        tomboloneFreeNumbers,\r\n        selectedNumbers: [...state.selectedNumbers, tomboloneNewNumber],\r\n      };\r\n    }\r\n    case SELECT_NUMBER: {\r\n      if (state.mode === MODE[1]) {\r\n        return state;\r\n      }\r\n      return {\r\n        ...state,\r\n        selectedNumbers: state.selectedNumbers.includes(action.number)\r\n          ? state.selectedNumbers.filter((item) => item != action.number)\r\n          : [...state.selectedNumbers, action.number],\r\n      };\r\n    }\r\n    default:\r\n      throw new Error(\"Unexpected action\");\r\n  }\r\n};\r\n\r\nexport default (state, action) => {\r\n  const newState = Reducer(state, action);\r\n\r\n  if (action.type === RESET) {\r\n    sessionStorage.removeItem(LOCAL_STORAGE_KEY);\r\n  } else {\r\n    sessionStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(newState));\r\n  }\r\n\r\n  history.pushState(newState, \"\", \"#\" + (newState.mode || \"\"));\r\n\r\n  return newState;\r\n};\r\n","export const RESET = 'RESET'\r\nexport const NEW_CARD = 'NEW_CARD'\r\nexport const NEW_TOMBOLONE = 'NEW_TOMBOLONE'\r\nexport const NEW_TOMBOLONE_NUMBER = 'NEW_TOMBOLONE_NUMBER'\r\nexport const SELECT_NUMBER = 'SELECT_NUMBER'\r\nexport const RESTORE_STATE = 'RESTORE_STATE'","import { h } from \"preact\";\r\nimport { NEW_CARD, NEW_TOMBOLONE, RESET } from \"../constants/actions\";\r\n\r\nexport default ({ dispatch }) => (<section className=\"card__controller\">\r\n    <button onClick={() => { dispatch({ type: RESET }) }}>Reset</button>\r\n    <button onClick={() => { dispatch({ type: NEW_CARD, quantity: 2 }) }}>New Cards</button>\r\n    <button onClick={() => { dispatch({ type: NEW_TOMBOLONE }) }}>New [TOMBOLONE]</button>\r\n</section>)","import { h } from \"preact\";\r\nimport { NEW_TOMBOLONE_NUMBER } from \"../constants/actions\";\r\n\r\nexport default ({ dispatch, number }) => (<section className=\"card__tombolone_number\">\r\n    <button onClick={() => { dispatch({ type: NEW_TOMBOLONE_NUMBER }) }}>New number</button>\r\n    <div id=\"tombolone_number\" className=\"card__box\">{number || ''}</div>\r\n</section>)\r\n\r\n","import { h } from \"preact\";\r\nimport { SELECT_NUMBER } from \"../constants/actions\";\r\n\r\nconst NumberBox = ({ dispatch, number, isSelected }) => (<div\r\n    className={\"card__number\" + (isSelected ? \" card__number--selected\" : '')}\r\n    onClick={() => { dispatch({ type: SELECT_NUMBER, number }) }}>\r\n    {number}\r\n</div>)\r\n\r\nconst View = ({ numbers, dispatch, isSelected }) => numbers.map(num => <li className=\"card__box\">{num ? <NumberBox dispatch={dispatch} number={num} isSelected={isSelected(num)} /> : null}</li>)\r\n\r\nexport default View","import { h } from \"preact\";\r\nimport { useMemo } from 'preact/hooks';\r\nimport View from './view'\r\n\r\nexport default ({ dispatch, numbers, isSelected }) => {\r\n    const final = useMemo(() => {\r\n        const res = new Array(27).fill(0)\r\n        numbers.forEach((row, index) => {\r\n            row.forEach(number => {\r\n                const index2 = (index * 9) + (number < 10\r\n                    ? 0\r\n                    : number == 90\r\n                        ? 8\r\n                        : parseInt(('' + number)[0]));\r\n                res[index2] = number\r\n            })\r\n        })\r\n        return res\r\n    }, [numbers])\r\n\r\n    return (<ul className=\"card\">\r\n        <View numbers={final} dispatch={dispatch} isSelected={isSelected} />\r\n    </ul>)\r\n}\r\n\r\n","import { h } from \"preact\";\r\nimport View from './view'\r\n\r\nexport default ({ dispatch, numbers, isSelected }) => (<ul className=\"card card--tombolone\">\r\n    <View numbers={numbers} dispatch={dispatch} isSelected={isSelected} />\r\n</ul>)","import { h } from \"preact\";\r\nimport { useReducer, useCallback, useEffect } from \"preact/hooks\";\r\nimport cards, { initialState, MODE } from \"../reducers/cards\";\r\nimport { RESTORE_STATE } from \"../constants/actions\";\r\nimport Controllers from \"./controllers\";\r\nimport TomboloneNumbersGenerator from \"./tomboloneNumbersGenerator\";\r\nimport Card from \"./card\";\r\nimport TomboloneCard from \"./TomboloneCard\";\r\nimport settings from \"../../package.json\";\r\n\r\nconst App = () => {\r\n  const [state, dispatch] = useReducer(cards, initialState);\r\n  const isSelected = useCallback(\r\n    (num) => state.selectedNumbers.includes(num),\r\n    [state.selectedNumbers]\r\n  );\r\n  const isTombolone = state.mode === MODE[1];\r\n\r\n  useEffect(() => {\r\n    if (typeof window !== \"undefined\") {\r\n      window.onpopstate = function ({ state = {} }) {\r\n        dispatch({ type: RESTORE_STATE, state });\r\n      };\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div id=\"app\" className=\"container\">\r\n      <Controllers dispatch={dispatch} />\r\n      {isTombolone ? (\r\n        <TomboloneNumbersGenerator\r\n          dispatch={dispatch}\r\n          number={state.tomboloneNewNumber}\r\n        />\r\n      ) : null}\r\n      <section className=\"card__list\">\r\n        {state.cards.map((card) =>\r\n          isTombolone ? (\r\n            <TomboloneCard\r\n              dispatch={dispatch}\r\n              isSelected={isSelected}\r\n              numbers={card}\r\n            />\r\n          ) : (\r\n            <Card dispatch={dispatch} isSelected={isSelected} numbers={card} />\r\n          )\r\n        )}\r\n      </section>\r\n      <div\r\n        style={{ textAlign: \"right\", paddingRight: \"20px\", marginTop: \"50px\" }}\r\n      >\r\n        {\" \"}\r\n        {settings.version}{\" \"}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import './style';\r\nimport App from './components/app';\r\n\r\nexport default App;\r\n"],"sourceRoot":""}